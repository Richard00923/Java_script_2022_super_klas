<!DOCTYPE html>
<html lang="en">
<head>
    <link href="main2.css" rel="stylesheet">
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>
<script>
    let idPost = +window.localStorage.getItem(`id`)
    queryString = +location.search.substring(1)
    console.log(queryString);
    fetch(`https://jsonplaceholder.typicode.com/users/${queryString}/posts`)
        .then(indexFile => indexFile.json())
        .then(posts=>{
            let findPost = posts.find(post => post.id === idPost)
            function recursion(obj) {
                let container = document.createElement(`div`)
                container.classList.add(`container`)
                for (const [keyName, keyValue] of Object.entries(obj)) {
                    let divKey = document.createElement(`div`)
                    let divKeyValue1 = document.createElement(`div`)
                    divKeyValue1.classList.add(`divKeyValue1`)
                    let divName = document.createElement(`div`)
                    divName.classList.add(`divName`)
                    if (typeof keyValue === "object") {
                        let divInObj = document.createElement(`div`)
                        divInObj.innerText = keyName;
                        divInObj.classList.add(`divOBJ`)
                        document.body.appendChild(divInObj)
                        recursion(keyValue)
                    } else {
                        divKeyValue1.innerText = `${keyValue}`;
                        divName.innerText = `${keyName}`
                        divKey.append(divName, divKeyValue1)
                        // divKey.style.display = `flex`;
                        // divKey.style.flexDirection=`column`
                        // divKey.style.columnGap = `10px`
                        container.appendChild(divKey)
                    }
                }
                document.body.append(container)
            }
            recursion(findPost)
            fetch(`https://jsonplaceholder.typicode.com/posts/${idPost}/comments`)
                .then(indexFile => indexFile.json())
                .then(comments=>{
                    recursion(comments)
                })
    })


</script>
</body>
</html>